!function(e){function t(t){for(var r,c,u=t[0],i=t[1],l=t[2],f=0,p=[];f<u.length;f++)c=u[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(s&&s(t);p.length;)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var i=n[u];0!==o[i]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={0:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var u=window.webpackJsonp=window.webpackJsonp||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var s=i;a.push([317,1]),n()}({317:function(e,t,n){e.exports=n(805)},588:function(e,t){},673:function(e,t){console.log("hello")},805:function(e,t,n){"use strict";n.r(t),n(318),n(520),n(673);var r=n(0),o=n.n(r),a=n(55),c=n.n(a),u=n(36),i=n(19),l=n(202),s=n.n(l);function f(e,t,n,r,o,a,c){try{var u=e[a](c),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){f(a,r,o,c,u,"next",e)}function u(e){f(a,r,o,c,u,"throw",e)}c(void 0)}))}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.authenticated=!1,this.currentUser=null}var t,n,r,o;return t=e,(n=[{key:"login",value:(o=p(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/api/login/".concat(t.username,"/").concat(s()(t.password)),e.prev=1,e.next=4,fetch(r);case 4:if("200"!=(o=e.sent).status){e.next=11;break}this.authenticated=!0,this.currentUser=t.username,n(!0),e.next=12;break;case 11:throw new Error(o.status+" Bad auth");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0,"-- Login"),n(!1);case 18:case"end":return e.stop()}}),e,this,[[1,14]])}))),function(e,t){return o.apply(this,arguments)})},{key:"register",value:(r=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:s()(t.password)})},e.prev=2,e.next=5,fetch("/api/new/user",r);case 5:!0===e.sent.ok?(this.authenticated=!0,this.currentUser=t.username,n(!0)):n(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),n(!1);case 13:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t){return r.apply(this,arguments)})},{key:"logout",value:function(){this.authenticated=!1,this.currentUser=null}},{key:"isAuthenticated",value:function(){return this.authenticated}}])&&y(t.prototype,n),e}()),h=n(5),b=n.n(h);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,["children"]);return Object(i.g)().user,o.a.createElement(i.b,d({},n,{render:function(e){return e.location,m.isAuthenticated()?t:o.a.createElement(i.a,{to:{pathname:"/user/login"}})}}))}var g=n(819),E=n(812),w=n(815),O=n(311),P=n(816),S=n.p+"1805c7b7ecc2e823804233e43187be0f.png";function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=R(e);return r=this,!(o=t?(n=R(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==j(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):o}}(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){return o.a.createElement(P.a,null,o.a.createElement(P.a.Item,null,o.a.createElement("img",{className:"d-block w-100",src:S,alt:"First slide"}),o.a.createElement(P.a.Caption,null,o.a.createElement("h3",null,"First slide label"),o.a.createElement("p",null,"Nulla vitae elit libero, a pharetra augue mollis interdum."))),o.a.createElement(P.a.Item,null,o.a.createElement("img",{className:"d-block w-100",src:S,alt:"Third slide"}),o.a.createElement(P.a.Caption,null,o.a.createElement("h3",null,"Second slide label"),o.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit."))),o.a.createElement(P.a.Item,null,o.a.createElement("img",{className:"d-block w-100",src:S,alt:"Third slide"}),o.a.createElement(P.a.Caption,null,o.a.createElement("h3",null,"Third slide label"),o.a.createElement("p",null,"Praesent commodo cursus magna, vel scelerisque nisl consectetur."))))}}])&&_(e.prototype,t),r}(),C=n(811),T=n(308);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=N(e);return r=this,!(o=t?(n=N(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==D(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):o}}(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,e)}return e=r,(t=[{key:"render",value:function(){return o.a.createElement(T.Image,{className:"w-100",cloudName:"dk0bjhiu9",publicId:this.props.src})}}])&&I(e.prototype,t),r}();F.propTypes={src:b.a.string.isRequired};var L=F,U=n.p+"42c947ab1eeb10ee6f2ba7188a4523a1.png",K=n.p+"ccb861dbb42df83e28b701df62617a81.png",B=n.p+"8bb9401b9c1f665d87460f9e62fe9bec.png",G=n.p+"98eedc28569d467e404fc061bf17c4e0.png";function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=q(e);return r=this,!(o=t?(n=q(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==M(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):o}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={user:window.location.pathname.split("/")[2],album:null},t}return e=r,(t=[{key:"componentDidMount",value:function(){var e=this,t=this.props.album,n=this.state.user,r="http://localhost:3000/api/".concat(n,"/album/").concat(t);fetch(r).then((function(e){return e.json()})).then((function(t){e.setState({album:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.album?this.state.album.map((function(e,t){switch(e.img_url){case"pic_1":return o.a.createElement(L,{key:t,src:U});case"pic_2":return o.a.createElement(L,{key:t,src:K});case"pic_3":return o.a.createElement(L,{key:t,src:B});case"pic_4":return o.a.createElement(L,{key:t,src:G})}})):"RENDERING";return o.a.createElement(C.a,null,o.a.createElement(E.a,null,e))}}])&&H(e.prototype,t),r}();V.propTypes={album:b.a.string.isRequired};var z=V;function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=W(e);return r=this,!(o=t?(n=W(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==X(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):o}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={user:window.location.pathname.split("/")[2],description:null},t}return e=r,(t=[{key:"componentDidMount",value:function(){var e=this,t="http://localhost:3000/api/".concat(this.state.user,"/profile");fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({description:t[0].description})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"About me"),this.state.description?o.a.createElement("p",null,this.state.description):o.a.createElement("p",null,"Basic description goes here..."))}}])&&$(e.prototype,t),r}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=ne(e);return r=this,!(o=t?(n=ne(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==Z(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):o}}(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,e)}return e=r,(t=[{key:"render",value:function(){return o.a.createElement(g.a.Container,{id:"left-tabs-example",defaultActiveKey:"home"},o.a.createElement(E.a,null,o.a.createElement("div",{style:{position:"fixed",height:"100vh"},className:"col-sm-3"},o.a.createElement(w.a,{variant:"pills",className:"flex-column"},o.a.createElement(w.a.Item,null,o.a.createElement(w.a.Link,{eventKey:"home"},"Home")),o.a.createElement(w.a.Item,null,o.a.createElement(w.a.Link,{eventKey:"about"},"About")),o.a.createElement(w.a.Item,null,o.a.createElement(w.a.Link,{eventKey:"contact"},"Contact")),o.a.createElement(w.a.Item,null,o.a.createElement(w.a.Link,{eventKey:"album-1"},"Fun")),o.a.createElement(w.a.Item,null,o.a.createElement(w.a.Link,{eventKey:"album-2"},"Food")),o.a.createElement(w.a.Item,null,o.a.createElement(w.a.Link,{eventKey:"album-3"},"Cool")))),o.a.createElement(O.a,{sm:{span:9,offset:3}},o.a.createElement(g.a.Content,null,o.a.createElement(g.a.Pane,{eventKey:"home"},o.a.createElement(x,null)),o.a.createElement(g.a.Pane,{eventKey:"about"},o.a.createElement(Y,null)),o.a.createElement(g.a.Pane,{eventKey:"contact"},"Contact"),o.a.createElement(g.a.Pane,{eventKey:"album-1"},o.a.createElement(z,{album:"food"})),o.a.createElement(g.a.Pane,{eventKey:"album-2"},o.a.createElement(z,{album:"fun"})),o.a.createElement(g.a.Pane,{eventKey:"album-3"},o.a.createElement(z,{album:"cool"}))))))}}])&&ee(e.prototype,t),r}(),oe=n(817),ae=n(814),ce=n(813);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=se(e);return r=this,!(o=t?(n=se(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==ue(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):o}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={username:"",password:""},t}return e=r,(t=[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),m.login(this.state,(function(e){var n;e?(n="/user/".concat(t.state.username,"/dashboard"),t.setState({username:"",password:""}),t.props.history.push(n)):alert("Try again")}))}},{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(oe.a,{bg:"dark",variant:"dark",fixed:"top"},o.a.createElement(oe.a.Brand,null,"Gallery")),o.a.createElement("div",{style:{position:"relative",top:"30vh"}},o.a.createElement(O.a,{xs:{span:6,offset:3}},o.a.createElement("h1",null," Login "),o.a.createElement(ae.a,{onSubmit:function(t){return e.handleSubmit(t)}},o.a.createElement(ae.a.Group,{controlId:"formUsername"},o.a.createElement(ae.a.Label,null,"Username"),o.a.createElement(ae.a.Control,{type:"text",placeholder:"Username",onChange:function(t){return e.handleUsername(t)}})),o.a.createElement(ae.a.Group,{controlId:"formBasicPassword"},o.a.createElement(ae.a.Label,null,"Password"),o.a.createElement(ae.a.Control,{type:"password",placeholder:"Password",onChange:function(t){return e.handlePassword(t)}})),o.a.createElement(E.a,null,o.a.createElement(O.a,{md:4},o.a.createElement(ce.a,{variant:"primary",type:"submit",mx:"auto",block:!0},"Log in")),o.a.createElement(O.a,{md:{span:4,offset:4}},o.a.createElement(u.b,{to:"/user/register"},o.a.createElement(ce.a,{variant:"secondary",block:!0},"Register"))))))))}}])&&ie(e.prototype,t),r}();fe.propTypes={history:b.a.object.isRequired};var pe=fe;function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=be(e);return r=this,!(o=t?(n=be(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==ye(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):o}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={username:"",password:""},t}return e=r,(t=[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),m.register(this.state,(function(e){var n;e?(n="/user/".concat(t.state.username,"/dashboard"),t.setState({username:"",password:""}),t.props.history.push(n)):alert("Username is taken")}))}},{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(oe.a,{bg:"dark",variant:"dark",fixed:"top"},o.a.createElement(oe.a.Brand,null,"Gallery")),o.a.createElement("div",{style:{position:"relative",top:"30vh"}},o.a.createElement(O.a,{xs:{span:6,offset:3}},o.a.createElement("h1",null," Register "),o.a.createElement(ae.a,{onSubmit:function(t){return e.handleSubmit(t)}},o.a.createElement(ae.a.Group,{controlId:"formUsername"},o.a.createElement(ae.a.Label,null,"Username"),o.a.createElement(ae.a.Control,{type:"text",placeholder:"Username",onChange:function(t){return e.handleUsername(t)}})),o.a.createElement(ae.a.Group,{controlId:"formBasicPassword"},o.a.createElement(ae.a.Label,null,"Password"),o.a.createElement(ae.a.Control,{type:"password",placeholder:"Password",onChange:function(t){return e.handlePassword(t)}})),o.a.createElement(E.a,null,o.a.createElement(O.a,{md:4},o.a.createElement(ce.a,{variant:"primary",type:"submit",mx:"auto",block:!0},"Sign up")),o.a.createElement(O.a,{md:{span:4,offset:4}},o.a.createElement(u.b,{to:"/user/login"},o.a.createElement(ce.a,{variant:"secondary",block:!0},"Have an account?"))))))))}}])&&me(e.prototype,t),r}();de.propTypes={history:b.a.object.isRequired};var ve=de;function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Se=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=Pe(e);return r=this,!(o=t?(n=Pe(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==ge(o)&&"function"!=typeof o?Oe(r):o}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).handleCreate=t.handleCreate.bind(Oe(t)),t.handleTitle=t.handleTitle.bind(Oe(t)),t}return e=r,(t=[{key:"handleCreate",value:function(e){e.preventDefault(),this.props.onCreate(e)}},{key:"handleTitle",value:function(e){this.props.onTitleChange(e)}},{key:"render",value:function(){return o.a.createElement(C.a,{className:"fixed-bottom p-4"},o.a.createElement(ae.a,{onSubmit:this.handleCreate},o.a.createElement(E.a,null,o.a.createElement(O.a,{sm:{span:6,offset:2}},o.a.createElement(ae.a.Control,{value:this.props.value,placeholder:"my new album ~",onChange:this.handleTitle})),o.a.createElement(O.a,{sm:2},o.a.createElement(ce.a,{variant:"primary",type:"submit",mx:"auto"},"Create")))))}}])&&Ee(e.prototype,t),r}(),je=n(818);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Te=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=Ce(e);return r=this,!(o=t?(n=Ce(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==_e(o)&&"function"!=typeof o?xe(r):o}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).handleDelete=t.handleDelete.bind(xe(t)),t}return e=r,(t=[{key:"handleDelete",value:function(e){e.target.name=this.props.data,this.props.onDelete(e)}},{key:"render",value:function(){var e=this.props.data;return o.a.createElement("div",null,o.a.createElement(je.a,{onClose:this.handleDelete},o.a.createElement(je.a.Header,null,o.a.createElement("strong",{className:"mr-auto"},e.album)),o.a.createElement(je.a.Body,null,e.urls.length," items")))}}])&&ke(e.prototype,t),r}(),De=n(820),Ie=n(821);function Ae(e){return o.a.createElement(De.a,{trigger:"click",placement:"top",rootClose:!0,overlay:o.a.createElement(Ie.a,{id:"".concat(e.uid[0],"-").concat(e.uid[2])},o.a.createElement(Ie.a.Content,null,o.a.createElement(ce.a,{variant:"link",onClick:function(t){t.target.value=e.uid,t.target.albumId=e.albumId,e.onDeletePicture(t)}},"Delete?")))},o.a.createElement(O.a,{xs:12,sm:6,md:3,className:"p-2"},o.a.createElement("a",null,o.a.createElement(L,{src:e.src}))))}function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ke=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=Ue(e);return r=this,!(o=t?(n=Ue(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==Ne(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):o}}(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,e)}return e=r,(t=[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,this.props.data.urls.length?this.props.data.urls.map((function(t,n){return o.a.createElement(Ae,{key:n,src:t[1],uid:t,albumId:e.props.data.album_id,onDeletePicture:e.props.onDeletePicture})})):o.a.createElement("h3",null," No pictures in this album "))}}])&&Fe(e.prototype,t),r}();function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=Je(e);return r=this,!(o=t?(n=Je(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==Be(o)&&"function"!=typeof o?He(r):o}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={},t.handleSubmit=t.handleSubmit.bind(He(t)),t}return e=r,(t=[{key:"handleSubmit",value:function(e){var t=this.props.picData.urls.length;e.target.pos=t?this.props.picData.urls[t-1][2]:0,e.target.album=this.props.picData.album,this.props.onAddPicture(e)}},{key:"render",value:function(){return o.a.createElement(C.a,{className:"fixed-bottom p-4"},o.a.createElement(ae.a,{onSubmit:this.handleSubmit},o.a.createElement(E.a,{className:"mb-2"},o.a.createElement(O.a,{sm:{span:6,offset:2},className:"text-left"},o.a.createElement(ae.a.File,{id:"formcheck-api-custom",custom:!0},o.a.createElement(ae.a.File.Input,{onChange:this.props.onHandleFile,isValid:!!this.props.filename}),o.a.createElement(ae.a.File.Label,{"data-browse":"Browse"},this.props.filename?this.props.filename:"Select a file"),o.a.createElement(ae.a.Control.Feedback,{type:"invalid",tooltip:!0},"Add a file to upload"))),o.a.createElement(O.a,{sm:2},o.a.createElement(ce.a,{variant:"primary",type:"submit",mx:"auto"},"Add")))))}}])&&Ge(e.prototype,t),r}();function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var We=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=Qe(e);return r=this,!(o=t?(n=Qe(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==Ve(o)&&"function"!=typeof o?$e(r):o}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).handleDelete=t.handleDelete.bind($e(t)),t.handleAddPicture=t.handleAddPicture.bind($e(t)),t}return e=r,(t=[{key:"handleDelete",value:function(e){this.props.onDelete(e)}},{key:"handleAddPicture",value:function(e){this.props.onAddPicture(e)}},{key:"render",value:function(){var e=this;return o.a.createElement(E.a,{id:"EditAlbum",className:"text-center",xs:{span:10,offset:1},sm:{span:10,offset:1},md:{span:12,offset:0},lg:{span:10,offset:1}},o.a.createElement(i.d,null,o.a.createElement(i.b,{exact:!0,path:"/user/".concat(this.props.user,"/dashboard")},this.props.albums.map((function(t,n){return o.a.createElement(O.a,{key:n,xs:{span:10,offset:1},sm:{span:4,offset:0},md:{span:3,offset:0},className:"mb-2"},o.a.createElement(u.b,{to:"/user/".concat(e.props.user,"/dashboard/").concat(t.album)},o.a.createElement(Te,{onDelete:e.handleDelete,data:t})))})),o.a.createElement(Se,{onTitleChange:this.props.onTitleChange,onCreate:this.props.onCreate,value:this.props.value})),this.props.albums.map((function(t,n){return o.a.createElement(i.b,{key:n,path:"/user/".concat(e.props.user,"/dashboard/").concat(t.album)},o.a.createElement(O.a,{xs:12},o.a.createElement("h2",null,t.album)),o.a.createElement(E.a,null,o.a.createElement(Ke,{data:t,user:e.props.user,onDeletePicture:e.props.onDeletePicture})),o.a.createElement("div",{style:{position:"fixed",top:"80px",right:"30px",width:"60px"}},o.a.createElement(u.b,{to:"/user/".concat(e.props.user,"/dashboard")},o.a.createElement(ce.a,{variant:"secondary",block:!0},"X"))),o.a.createElement(qe,{value:e.props.pictureValue,picData:t,onTitleChange:e.props.onPicTitleChange,onAddPicture:e.handleAddPicture,onHandleFile:e.props.onHandleFile,filename:e.props.filename}))}))))}}])&&ze(e.prototype,t),r}();function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(r,o.a.Component);var e,t,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=nt(e);return r=this,!(o=t?(n=nt(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==Ye(o)&&"function"!=typeof o?tt(r):o}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).handleClick=t.handleClick.bind(tt(t)),t}return e=r,(t=[{key:"handleClick",value:function(){m.logout()}},{key:"render",value:function(){return o.a.createElement(u.b,{to:"/user/login",onClick:this.handleClick},o.a.createElement(ce.a,{variant:"secondary",size:"sm"},"Logout"))}}])&&Ze(e.prototype,t),r}();function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}}(e,t)||ut(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){if(e){if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(e,t):void 0}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e,t,n,r,o,a,c){try{var u=e[a](c),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,o)}function st(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){lt(a,r,o,c,u,"next",e)}function u(e){lt(a,r,o,c,u,"throw",e)}c(void 0)}))}}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ht=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(i,o.a.Component);var e,t,n,r,a,c,u=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,o,a=mt(e);return r=this,!(o=t?(n=mt(this).constructor,Reflect.construct(a,arguments,n)):a.apply(this,arguments))||"object"!==ot(o)&&"function"!=typeof o?yt(r):o}}(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=u.call(this,e)).state={user:window.location.pathname.split("/")[2],description:null,albums:[],newTitle:"",newPicture:"",isProcess:!1,file:null,filename:null},t.create=t.create.bind(yt(t)),t.update=t.update.bind(yt(t)),t.delete=t.delete.bind(yt(t)),t.handleChange=t.handleChange.bind(yt(t)),t.handleClick=t.handleClick.bind(yt(t)),t.handlePicTitle=t.handlePicTitle.bind(yt(t)),t.handleAddPicture=t.handleAddPicture.bind(yt(t)),t.handleDeletePicture=t.handleDeletePicture.bind(yt(t)),t.handleFile=t.handleFile.bind(yt(t)),t}return e=i,(t=[{key:"componentDidMount",value:function(){var e=this,t="http://localhost:3000/api/".concat(this.state.user,"/object");fetch(t).then((function(e){return e.json()})).then((function(t){var n=t.map((function(e){return null!==e.urls[0]?e.urls=e.urls.map((function(e){return e.split(":")})):e.urls=[],e}));e.setState({albums:n})})).catch((function(e){return console.log(e)}))}},{key:"create",value:(c=st(regeneratorRuntime.mark((function e(t){var n,r,o,a,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n="http://localhost:3000/api/new/album",r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.state.user,title:this.state.newTitle})},e.prev=3,""===this.state.newTitle)throw new Error("Enter a name");e.next=6;break;case 6:return e.next=8,fetch(n,r);case 8:if("201"==(o=e.sent).status)return e.next=12,o.json();e.next=16;break;case 12:a=e.sent,this.setState((function(e){return{albums:e.albums.length?[].concat(ct(e.albums),[{album_id:a.album_id,album:c.state.newTitle,urls:[]}]):[{album_id:a.album_id,album:c.state.newTitle,urls:[]}],newTitle:""}})),e.next=17;break;case 16:throw new Error(o.status);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(3),console.log(e.t0),alert("Unable to create album");case 23:case"end":return e.stop()}}),e,this,[[3,19]])}))),function(e){return c.apply(this,arguments)})},{key:"update",value:function(e){e.preventDefault()}},{key:"delete",value:(a=st(regeneratorRuntime.mark((function e(t){var n,r,o,a,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.target.name,r=n.album,o=n.album_id,a="http://localhost:3000/api/".concat(this.state.user,"/album/").concat(o),fetch(a,{method:"DELETE"}).then((function(e){if(200!==e.status)throw console.log(e),new Error("try again");c.setState((function(e){return{albums:e.albums.filter((function(e){return e.album!==r}))}}))})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"handleChange",value:function(e){this.setState({newTitle:e.target.value})}},{key:"handlePicTitle",value:function(e){this.setState({newPicture:e.target.value})}},{key:"handleFile",value:function(e){var t=e.target.files[0];this.setState((function(e){return{isProcess:!e.isProcess,file:t,filename:t.name}}))}},{key:"handleAddPicture",value:(r=st(regeneratorRuntime.mark((function e(t){var n,r,o,a,c,u,i,l,s,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=parseInt(t.target.pos)+1,r=t.target.album,o="http://localhost:3000/api/new/picture",a="https://api.cloudinary.com/v1_1/dk0bjhiu9/image/upload",e.prev=5,null===this.state.file)throw new Error("Enter an image url");e.next=8;break;case 8:return(c=new FormData).append("file",this.state.file),c.append("upload_preset","project_2"),e.next=13,fetch(a,{method:"POST",body:c});case 13:return u=e.sent,e.next=16,u.json();case 16:return i=e.sent,this.setState({newPicture:i.public_id}),l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.state.user,title:r,img_url:this.state.newPicture,pos:n})},e.next=21,fetch(o,l);case 21:if("201"!=(s=e.sent).status){e.next=26;break}this.setState((function(e){return{albums:e.albums.map((function(e){return e.album===r&&e.urls.push([r,f.state.newPicture,n]),e})),file:null,filename:null,newPicture:""}})),e.next=27;break;case 26:throw new Error(s.status);case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(5),console.log(e.t0),alert("Unable to add picture");case 33:case"end":return e.stop()}}),e,this,[[5,29]])}))),function(e){return r.apply(this,arguments)})},{key:"handleDeletePicture",value:(n=st(regeneratorRuntime.mark((function e(t){var n,r,o,a,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value.split(","),(r=at(n,3))[0],r[1],o=r[2],a=t.target.albumId,c={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({albumId:a,pos:o})},e.prev=4,e.next=7,fetch("http://localhost:3000/api/del/picture",c);case 7:if("200"!=(u=e.sent).status){e.next=12;break}this.setState((function(e){return{albums:e.albums.map((function(e){return e.album_id===a&&(e.urls=e.urls.filter((function(e){return e[2]!=o}))),e}))}})),e.next=13;break;case 12:throw new Error(u.status);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0),alert("Oh no error");case 19:case"end":return e.stop()}}),e,this,[[4,15]])}))),function(e){return n.apply(this,arguments)})},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(oe.a,{bg:"dark",variant:"dark",fixed:"top"},o.a.createElement(oe.a.Brand,{href:"#home"},"Gallery"),o.a.createElement(oe.a.Collapse,{className:"justify-content-end"},o.a.createElement(oe.a.Text,{className:"mr-3"},"Signed in as: ",this.state.user),o.a.createElement(rt,null))),o.a.createElement(C.a,{className:"mt-5 pt-5",id:"Dashboard"},o.a.createElement(We,{albums:this.state.albums,onDelete:this.delete,user:this.state.user,onTitleChange:this.handleChange,onCreate:this.create,value:this.state.newTitle,onPicTitleChange:this.handlePicTitle,onAddPicture:this.handleAddPicture,onDeletePicture:this.handleDeletePicture,pictureValue:this.state.newPicture,onHandleFile:this.handleFile,filename:this.state.filename})))}}])&&ft(e.prototype,t),i}();n(802),c.a.render(o.a.createElement((function(){return o.a.createElement(u.a,null,o.a.createElement(i.d,null,o.a.createElement(i.b,{exact:!0,path:"/user/login",component:pe}),o.a.createElement(i.b,{exact:!0,path:"/user/register",component:ve}),o.a.createElement(v,{path:"/user/:user/dashboard"},o.a.createElement(ht,null)),o.a.createElement(i.b,{path:"/share/:name"},o.a.createElement(re,null)),o.a.createElement(i.b,{path:"*",component:pe})))}),null),document.getElementById("app"))}});